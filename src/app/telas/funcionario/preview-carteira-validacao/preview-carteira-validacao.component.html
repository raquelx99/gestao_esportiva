<div class="preview-container">
  <div class="content-wrapper">

    <div class="left-panel">
      <div class="tabs">
        <button
          class="tab"
          [class.active]="abaAtiva === 'formulario'"
          (click)="selecionarAba('formulario')">
          Respostas Formulário
        </button>
        <button
          class="tab"
          [class.active]="abaAtiva === 'previewCarteira'"
          (click)="selecionarAba('previewCarteira')">
          Preview da carteira
        </button>
      </div>

      <div class="info-box">
        <div *ngIf="abaAtiva === 'formulario'" class="scrollable-content">
          <h4>Infos Cadastro</h4>
          <ng-container *ngIf="dadosCarteira">
            <p><strong>Nome:</strong> {{ dadosCarteira.nome }}</p>
            <p><strong>Matrícula:</strong> {{ dadosCarteira.matricula }}</p>
            <p><strong>Curso:</strong> {{ dadosCarteira.curso }}</p>
            <p><strong>Centro:</strong> {{ dadosCarteira.centro }}</p>
            <p><strong>CPF:</strong> {{ dadosCarteira.cpf }}</p>
            <p><strong>Telefone:</strong> {{ dadosCarteira.telefone }}</p>
            <p><strong>Email:</strong> {{ dadosCarteira.email }}</p>
            <p><strong>Contato Emergência:</strong> {{ dadosCarteira.contatoEmergenciaNome }}</p>
            <p><strong>Tel. Emergência:</strong> {{ dadosCarteira.contatoEmergenciaTel }}</p>
            <p><strong>Validade:</strong> {{ dadosCarteira.validade }}</p>
            <hr>
            <h4>Espaços Solicitados:</h4>
            <p>{{ dadosCarteira.espacosSolicitados }}</p>
          </ng-container>
          <p *ngIf="!dadosCarteira">Dados da carteira não encontrados para o ID: {{ carteiraId }}</p>
        </div>

    <div *ngIf="abaAtiva === 'previewCarteira'" class="scrollable-content">
    <h4>Preview da Carteira do Aluno</h4>

    <div class="carteira-preview-wrapper"> <section class="card carteirinha-preview-card"> <h2>Carteira de Acesso</h2>

        <div class="info-grid-carteira"> <div><strong>Nome</strong><span>{{ dadosCarteira?.nome }}</span></div>
          <div><strong>Matrícula</strong><span>{{ dadosCarteira?.matricula }}</span></div>
          <div><strong>Curso</strong><span>{{ dadosCarteira?.curso }}</span></div>
          <div><strong>Centro</strong><span>{{ dadosCarteira?.centro }}</span></div>
          <div><strong>Telefone</strong><span>{{ dadosCarteira?.telefone }}</span></div>
          <div><strong>Telefone urgência</strong><span>{{ dadosCarteira?.contatoEmergenciaTel }}</span></div>
        </div>

        <div class="espacos-list-carteira"> <strong>Espaços:</strong>
          <span>{{ dadosCarteira?.espacosSolicitados }}</span>
          </div>

        <div class="rodape-carteira"> <div class="semestre-carteira">{{ dadosCarteira?.emissaoDetalhes }}</div>
          <div class="validade-carteira">Validade: {{ dadosCarteira?.validade }}</div>
        </div>
      </section>
    </div>

    </div>
      </div>
      </div> <div class="right-panel">
      <h4>Foto Documento</h4>
      <div class="photo-box">
        <img [src]="dadosCarteira?.fotoDocumentoUrl || 'https://via.placeholder.com/350x250.png?text=Documento+Indisponível'" alt="Foto do Documento" />
      </div>
    </div> </div> <div class="action-buttons">
    <button class="btn btn-rejeitar" (click)="rejeitarCarteira()">Rejeitar ❌</button>
    <button class="btn btn-aprovar" (click)="aprovarCarteira()">Aprovar ✅</button>
  </div>
</div>